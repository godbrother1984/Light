<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ศูนย์จัดการข้อมูลหลัก - Light Measuring</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar {
            box-shadow: 0 2px 4px rgba(0,0,0,.1);
        }
        .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0,0,0,.05);
        }
        .nav-pills .nav-link.active {
            background-color: #0056b3;
        }
        .nav-pills .nav-link {
            color: #0056b3;
        }
        .btn-primary {
            background-color: #0056b3;
            border-color: #0056b3;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/ui/main.html">
                <i class="bi bi-brightness-high-fill text-primary"></i>
                Light Measuring
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/ui/main.html"><i class="bi bi-list-task"></i> รายการงานทั้งหมด</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/ui/master-data-manager.html"><i class="bi bi-server"></i> จัดการข้อมูลหลัก</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/ui/template-manager.html"><i class="bi bi-file-earmark-text"></i> จัดการ Template รายงาน</a>
                    </li>
                </ul>
                <span class="navbar-text">
                    Senior Programmer Mode
                </span>
            </div>
        </div>
    </nav>

    <main class="container mt-4">
        <h1 class="h3 mb-3">ศูนย์จัดการข้อมูลหลัก (Master Data Management)</h1>

        <div class="card">
            <div class="card-header">
                <ul class="nav nav-pills card-header-pills">
                    <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#work-types">ลักษณะงาน (Work Types)</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#inspectors">ผู้ตรวจวัด (Inspectors)</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#instruments">เครื่องมือ (Instruments)</a></li>
                    <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#company-info">ข้อมูลบริษัท/ผู้ลงนาม</a></li>
                </ul>
            </div>
            <div class="card-body">
                <div class="tab-content">

                    <div class="tab-pane fade show active" id="work-types">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4><i class="bi bi-briefcase-fill"></i> จัดการลักษณะงาน</h4>
                            <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#workTypeModal"><i class="bi bi-plus-circle"></i> เพิ่มลักษณะงาน</button>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>ชื่อลักษณะงาน</th>
                                    <th colspan="2" class="text-center">ค่ามาตรฐาน (แบบจุด)</th>
                                    <th colspan="2" class="text-center">ค่ามาตรฐาน (แบบพื้นที่)</th>
                                    <th class="text-center">Action</th>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th class="text-center">Min (Lux)</th>
                                    <th class="text-center">Max (Lux)</th>
                                    <th class="text-center">Avg (Lux)</th>
                                    <th class="text-center">Min (Lux)</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="work-types-table">
                                <tr>
                                    <td>งานเอกสาร-คอมพิวเตอร์</td>
                                    <td class="text-center">400</td>
                                    <td class="text-center">500</td>
                                    <td class="text-center">300</td>
                                    <td class="text-center">150</td>
                                    <td class="text-center"><button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button> <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tab-pane fade" id="inspectors">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                             <h4><i class="bi bi-person-badge-fill"></i> จัดการรายชื่อผู้ตรวจวัดและบุคลากร</h4>
                             <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#inspectorModal"><i class="bi bi-plus-circle"></i> เพิ่มบุคลากร</button>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr><th>ชื่อ-นามสกุล</th><th>ตำแหน่ง</th><th class="text-center">Action</th></tr>
                            </thead>
                            <tbody id="inspectors-table">
                                 <tr><td>นายณัฐวัฒน์ สินอนันต์</td><td>นักวิชาการสิ่งแวดล้อม</td><td class="text-center"><button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button> <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
                                 <tr><td>นางสาวดุษฎี วรรณหาร</td><td>เจ้าหน้าที่ความปลอดภัยในการทำงานระดับวิชาชีพ</td><td class="text-center"><button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button> <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tab-pane fade" id="instruments">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                             <h4><i class="bi bi-speedometer2"></i> จัดการเครื่องมือตรวจวัด</h4>
                             <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#instrumentModal"><i class="bi bi-plus-circle"></i> เพิ่มเครื่องมือ</button>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr><th>ชื่อ/รุ่น</th><th>Serial No.</th><th>วันสอบเทียบครั้งถัดไป</th><th class="text-center">Action</th></tr>
                            </thead>
                            <tbody id="instruments-table">
                                <tr><td>Light Meter Digicon/Model LX-73</td><td>T.034939</td><td>1 ก.พ. 2568</td><td class="text-center"><button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button> <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="tab-pane fade" id="company-info">
                        <h4><i class="bi bi-building-fill-gear"></i> จัดการข้อมูลบริษัทและผู้ลงนาม</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <h5>ข้อมูลใบอนุญาต</h5>
                                <form id="company-info-form">
                                    <div class="mb-3">
                                        <label class="form-label">เลขทะเบียน ว-๓๒๙</label>
                                        <input type="text" class="form-control" id="license_factory" value="ว-๓๒๙">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">ใบอนุญาตตรวจวัดแสงสว่าง</label>
                                        <input type="text" class="form-control" id="license_welfare_light" value="๐๔๐๒-๐๓-๒๕๖๕-๐๐๔๒">
                                    </div>
                                    <button type="submit" class="btn btn-success"><i class="bi bi-save"></i> บันทึกข้อมูลบริษัท</button>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <h5>ผู้ลงนามในรายงาน</h5>
                                <button class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#signatoryModal"><i class="bi bi-person-plus-fill"></i> เพิ่มผู้ลงนาม</button>
                                <table class="table table-bordered">
                                     <thead><tr><th>ชื่อ-นามสกุล</th><th>ตำแหน่ง</th><th class="text-center">Action</th></tr></thead>
                                     <tbody id="signatories-table">
                                        <tr><td>นางสาวสุกานดา คำก๋อง</td><td>ผู้ควบคุมห้องปฏิบัติการวิเคราะห์</td><td class="text-center"><button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button> <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button></td></tr>
                                     </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="workTypeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">เพิ่ม/แก้ไข ลักษณะงาน</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="workTypeForm">
                        <div class="mb-3">
                            <label class="form-label">ชื่อลักษณะงาน (Name)</label>
                            <input type="text" class="form-control" id="workTypeName" required>
                        </div>
                        <fieldset class="border p-2">
                            <legend class="float-none w-auto p-2 h6">ค่ามาตรฐาน (Standard Values)</legend>
                             <div class="row">
                                <div class="col-md-6">
                                    <h6>แบบจุด (Spot Measurement)</h6>
                                    <label class="form-label">ค่าต่ำสุด (stdSpotMin)</label>
                                    <input type="number" class="form-control mb-2" id="stdSpotMin" placeholder="Lux">
                                    <label class="form-label">ค่าสูงสุด (stdSpotMax)</label>
                                    <input type="number" class="form-control mb-2" id="stdSpotMax" placeholder="Lux">
                                </div>
                                <div class="col-md-6">
                                    <h6>แบบพื้นที่ (Area Measurement)</h6>
                                    <label class="form-label">ค่าเฉลี่ย (stdAreaAvg)</label>
                                    <input type="number" class="form-control mb-2" id="stdAreaAvg" placeholder="Lux">
                                    <label class="form-label">ค่าต่ำสุด (stdAreaMin)</label>
                                    <input type="number" class="form-control mb-2" id="stdAreaMin" placeholder="Lux">
                                </div>
                             </div>
                        </fieldset>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
                    <button type="submit" form="workTypeForm" class="btn btn-primary"><i class="bi bi-save"></i> บันทึก</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="inspectorModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                 <div class="modal-header"><h5 class="modal-title">เพิ่ม/แก้ไข บุคลากร</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                 <div class="modal-body">
                     <form id="inspectorForm">
                         <div class="mb-3"><label class="form-label">ชื่อ-นามสกุล (Name)</label><input type="text" class="form-control" required></div>
                         <div class="mb-3"><label class="form-label">ตำแหน่ง (Title)</label><input type="text" class="form-control" required></div>
                     </form>
                 </div>
                 <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button><button type="submit" form="inspectorForm" class="btn btn-primary">บันทึก</button></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="instrumentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                 <div class="modal-header"><h5 class="modal-title">เพิ่ม/แก้ไข เครื่องมือ</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                 <div class="modal-body">
                     <form id="instrumentForm">
                         <div class="mb-3"><label class="form-label">ชื่อ/รุ่น (Name)</label><input type="text" class="form-control" required></div>
                         <div class="mb-3"><label class="form-label">Serial No.</label><input type="text" class="form-control" required></div>
                         <div class="mb-3"><label class="form-label">วันสอบเทียบครั้งถัดไป (Calibration Due Date)</label><input type="date" class="form-control"></div>
                     </form>
                 </div>
                 <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button><button type="submit" form="instrumentForm" class="btn btn-primary">บันทึก</button></div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="signatoryModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                 <div class="modal-header"><h5 class="modal-title">เพิ่ม/แก้ไข ผู้ลงนาม</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                 <div class="modal-body">
                     <form id="signatoryForm">
                         <div class="mb-3"><label class="form-label">ชื่อ-นามสกุล (Name)</label><input type="text" class="form-control" required></div>
                         <div class="mb-3"><label class="form-label">ตำแหน่ง (Title)</label><input type="text" class="form-control" required></div>
                     </form>
                 </div>
                 <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button><button type="submit" form="signatoryForm" class="btn btn-primary">บันทึก</button></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>